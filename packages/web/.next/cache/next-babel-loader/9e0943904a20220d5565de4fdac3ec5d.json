{"ast":null,"code":"var _jsxFileName = \"/Users/bhavikshah/Work/headless-graphql/packages/web/pages/account-settings.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Router, { useRouter } from 'next/router';\nimport { Grid, Row, Col } from 'react-styled-flexboxgrid';\nimport Box from 'reusecore/src/elements/Box';\nimport { useQuery } from '@apollo/react-hooks';\nimport { Modal } from '@redq/reuse-modal';\nimport SecretPage from '../hoc/secretPage';\nimport withLayout from '../hoc/withLayout';\nimport PageMeta from '../components/PageMeta';\nimport { GET_AUTHOR } from 'core/graphql/Author';\nimport Sidebar from '../containers/AccountSetting/Sidebar';\nimport EditProfile from '../containers/AccountSetting/EditProfile';\nimport ChangePassword from '../containers/AccountSetting/ChangePassword';\nimport AddMobileNumber from '../containers/AccountSetting/AddMobileNumber';\nimport { withApollo } from '../helpers/apollo';\nvar AccountSettings = withLayout(function (_ref) {\n  var userId = _ref.userId;\n\n  var _useQuery = useQuery(GET_AUTHOR, {\n    variables: {\n      id: userId\n    }\n  }),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error;\n\n  var _useRouter = useRouter(),\n      view = _useRouter.query.view;\n\n  if (error) return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, error.message);\n  var author = data && data.author ? data.author : {};\n  var imageUrl = author && author.image ? author.image.url : '';\n  var imageLargeUrl = author && author.image ? author.image.largeUrl : '';\n\n  var handleTabToggle = function handleTabToggle(newTabState) {\n    var href = \"/account-settings?view=\".concat(newTabState);\n    var as = \"/account-settings?view=\".concat(newTabState);\n    Router.push(href, as, {\n      shallow: true\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(PageMeta, {\n    title: view === 'edit-profile' && 'Edit Profile' || view === 'change-password' && 'Change Password' || view === 'add-mobile-number' && 'Add mobile number',\n    description: \"Account Settings\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), __jsx(Grid, {\n    style: {\n      paddingTop: '80px',\n      paddingBottom: '50px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, __jsx(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, __jsx(Col, {\n    xs: 12,\n    mdOffset: 1,\n    md: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, __jsx(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, __jsx(Col, {\n    xs: 12,\n    sm: 5,\n    md: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, __jsx(Sidebar, {\n    onToggleClick: handleTabToggle,\n    image: [imageUrl, imageLargeUrl],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  })), __jsx(Col, {\n    xs: 12,\n    sm: 7,\n    md: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, __jsx(Box, {\n    pl: [20, 95],\n    pr: [20, 95],\n    pb: 32,\n    pt: 32,\n    borderRadius: \"3px\",\n    border: \"1px solid #e2e2e2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, view === 'edit-profile' && __jsx(EditProfile, {\n    author: author,\n    loading: loading,\n    error: error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), view === 'change-password' && __jsx(ChangePassword, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), view === 'add-mobile-number' && __jsx(AddMobileNumber, {\n    author: author,\n    loading: loading,\n    error: error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }))))))), __jsx(Modal, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }));\n});\nexport default withApollo(SecretPage(AccountSettings));","map":{"version":3,"sources":["/Users/bhavikshah/Work/headless-graphql/packages/web/pages/account-settings.js"],"names":["Router","useRouter","Grid","Row","Col","Box","useQuery","Modal","SecretPage","withLayout","PageMeta","GET_AUTHOR","Sidebar","EditProfile","ChangePassword","AddMobileNumber","withApollo","AccountSettings","userId","variables","id","data","loading","error","view","query","message","author","imageUrl","image","url","imageLargeUrl","largeUrl","handleTabToggle","newTabState","href","as","push","shallow","paddingTop","paddingBottom"],"mappings":"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","sourcesContent":["import Router, { useRouter } from 'next/router';\nimport { Grid, Row, Col } from 'react-styled-flexboxgrid';\nimport Box from 'reusecore/src/elements/Box';\nimport { useQuery } from '@apollo/react-hooks';\nimport { Modal } from '@redq/reuse-modal';\nimport SecretPage from '../hoc/secretPage';\nimport withLayout from '../hoc/withLayout';\nimport PageMeta from '../components/PageMeta';\n\nimport { GET_AUTHOR } from 'core/graphql/Author';\n\nimport Sidebar from '../containers/AccountSetting/Sidebar';\n\nimport EditProfile from '../containers/AccountSetting/EditProfile';\n\nimport ChangePassword from '../containers/AccountSetting/ChangePassword';\n\nimport AddMobileNumber from '../containers/AccountSetting/AddMobileNumber';\nimport { withApollo } from '../helpers/apollo';\n\nconst AccountSettings = withLayout(({ userId }) => {\n  const { data, loading, error } = useQuery(GET_AUTHOR, {\n    variables: { id: userId },\n  });\n\n  const {\n    query: { view },\n  } = useRouter();\n  if (error) return <div>{error.message}</div>;\n  const author = data && data.author ? data.author : {};\n  const imageUrl = author && author.image ? author.image.url : '';\n  const imageLargeUrl = author && author.image ? author.image.largeUrl : '';\n  const handleTabToggle = newTabState => {\n    const href = `/account-settings?view=${newTabState}`;\n    const as = `/account-settings?view=${newTabState}`;\n    Router.push(href, as, { shallow: true });\n  };\n\n  return (\n    <>\n      <PageMeta\n        title={\n          (view === 'edit-profile' && 'Edit Profile') ||\n          (view === 'change-password' && 'Change Password') ||\n          (view === 'add-mobile-number' && 'Add mobile number')\n        }\n        description=\"Account Settings\"\n      />\n      <Grid style={{ paddingTop: '80px', paddingBottom: '50px' }}>\n        <Row>\n          <Col xs={12} mdOffset={1} md={10}>\n            <Row>\n              <Col xs={12} sm={5} md={4}>\n                <Sidebar\n                  onToggleClick={handleTabToggle}\n                  image={[imageUrl, imageLargeUrl]}\n                />\n              </Col>\n              <Col xs={12} sm={7} md={8}>\n                <Box\n                  pl={[20, 95]}\n                  pr={[20, 95]}\n                  pb={32}\n                  pt={32}\n                  borderRadius=\"3px\"\n                  border=\"1px solid #e2e2e2\"\n                >\n                  {view === 'edit-profile' && (\n                    <EditProfile\n                      author={author}\n                      loading={loading}\n                      error={error}\n                    />\n                  )}\n                  {view === 'change-password' && <ChangePassword />}\n                  {view === 'add-mobile-number' && (\n                    <AddMobileNumber\n                      author={author}\n                      loading={loading}\n                      error={error}\n                    />\n                  )}\n                </Box>\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n      </Grid>\n\n      <Modal />\n    </>\n  );\n});\n\nexport default withApollo(SecretPage(AccountSettings));\n"]},"metadata":{},"sourceType":"module"}