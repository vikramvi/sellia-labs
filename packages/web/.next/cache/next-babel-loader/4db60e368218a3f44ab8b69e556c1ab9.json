{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Router, { useRouter } from 'next/router';\nimport { Grid, Row, Col } from 'react-styled-flexboxgrid';\nimport Box from 'reusecore/src/elements/Box';\nimport { useQuery } from '@apollo/react-hooks';\nimport { Modal } from '@redq/reuse-modal';\nimport SecretPage from '../hoc/secretPage';\nimport withLayout from '../hoc/withLayout';\nimport PageMeta from '../components/PageMeta';\nimport { GET_AUTHOR } from 'core/graphql/Author';\nimport Sidebar from '../containers/AccountSetting/Sidebar';\nimport EditProfile from '../containers/AccountSetting/EditProfile';\nimport ChangePassword from '../containers/AccountSetting/ChangePassword';\nimport AddMobileNumber from '../containers/AccountSetting/AddMobileNumber';\nimport { withApollo } from '../helpers/apollo';\nconst AccountSettings = withLayout(({\n  userId\n}) => {\n  const {\n    data,\n    loading,\n    error\n  } = useQuery(GET_AUTHOR, {\n    variables: {\n      id: userId\n    }\n  });\n  const {\n    query: {\n      view\n    }\n  } = useRouter();\n  if (error) return __jsx(\"div\", null, error.message);\n  const author = data && data.author ? data.author : {};\n  const imageUrl = author && author.image ? author.image.url : '';\n  const imageLargeUrl = author && author.image ? author.image.largeUrl : '';\n\n  const handleTabToggle = newTabState => {\n    const href = `/account-settings?view=${newTabState}`;\n    const as = `/account-settings?view=${newTabState}`;\n    Router.push(href, as, {\n      shallow: true\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(PageMeta, {\n    title: view === 'edit-profile' && 'Edit Profile' || view === 'change-password' && 'Change Password' || view === 'add-mobile-number' && 'Add mobile number',\n    description: \"Account Settings\"\n  }), __jsx(Grid, {\n    style: {\n      paddingTop: '80px',\n      paddingBottom: '50px'\n    }\n  }, __jsx(Row, null, __jsx(Col, {\n    xs: 12,\n    mdOffset: 1,\n    md: 10\n  }, __jsx(Row, null, __jsx(Col, {\n    xs: 12,\n    sm: 5,\n    md: 4\n  }, __jsx(Sidebar, {\n    onToggleClick: handleTabToggle,\n    image: [imageUrl, imageLargeUrl]\n  })), __jsx(Col, {\n    xs: 12,\n    sm: 7,\n    md: 8\n  }, __jsx(Box, {\n    pl: [20, 95],\n    pr: [20, 95],\n    pb: 32,\n    pt: 32,\n    borderRadius: \"3px\",\n    border: \"1px solid #e2e2e2\"\n  }, view === 'edit-profile' && __jsx(EditProfile, {\n    author: author,\n    loading: loading,\n    error: error\n  }), view === 'change-password' && __jsx(ChangePassword, null), view === 'add-mobile-number' && __jsx(AddMobileNumber, {\n    author: author,\n    loading: loading,\n    error: error\n  }))))))), __jsx(Modal, null));\n});\nexport default withApollo(SecretPage(AccountSettings));","map":null,"metadata":{},"sourceType":"module"}