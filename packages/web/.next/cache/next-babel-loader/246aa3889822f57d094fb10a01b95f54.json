{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { createBrowserHistory } from 'history';\nexport var history = true ? createBrowserHistory() : false;\nexport function createUrl(urlData) {\n  var keys = Object.keys(urlData);\n  var search = '?';\n  keys.forEach(function (key) {\n    if (urlData[key] !== null && urlData[key] !== '' && key !== 'page' && key !== 'limit') {\n      search += \"\".concat(key, \"=\").concat(urlData[key], \"&\");\n    }\n  });\n  return search.substring(0, search.length - 1);\n}\nexport function getUrl() {\n  var location = true && window.location;\n  var data = true && location.search ? location.search.slice(location.search.indexOf('?') + 1).split('&') : [];\n  var urlData = {};\n  data.forEach(function (data) {\n    try {\n      data = data.split('=');\n      var dataVal = decodeURIComponent(data[1]);\n      urlData[data[0]] = dataVal;\n    } catch (e) {}\n  });\n  return urlData;\n}\nexport function setUrl(urlData) {\n  var search = createUrl(urlData);\n  history.push(_objectSpread(_objectSpread({}, location), {}, {\n    search: search\n  }));\n}\nexport function clearUrl() {\n  history.push(_objectSpread(_objectSpread({}, location), {}, {\n    search: ''\n  }));\n}\nexport function setStateToUrl(state) {\n  var urlData = getUrl();\n  urlData = _objectSpread(_objectSpread({}, urlData), state);\n\n  for (var key in state) {\n    if (state.hasOwnProperty(key)) {\n      switch (key) {\n        case 'text':\n          urlData[key] = state[key] ? state[key] : null;\n          break;\n\n        case 'categories':\n          urlData[key] = state[key] && state[key].length ? state[key].join() : null;\n          break;\n\n        case 'price':\n          urlData[key] = state[key] && state[key].length ? state[key].join() : null;\n          break;\n\n        case 'location':\n          if (state[key] && state[key].lat) {\n            urlData[\"\".concat(key, \"_lat\")] = state[key].lat;\n          }\n\n          if (state[key] && state[key].lng) {\n            urlData[\"\".concat(key, \"_lng\")] = state[key].lng;\n          }\n\n          break;\n\n        default:\n          urlData[key] = state[key];\n          break;\n      }\n    }\n  }\n\n  setUrl(urlData);\n}\nexport function getUrlToState() {\n  var urlData = getUrl();\n  var state = {\n    page: 1,\n    limit: 8\n  };\n\n  for (var key in urlData) {\n    if (urlData.hasOwnProperty(key)) {\n      switch (key) {\n        case 'text':\n          state[key] = urlData[key] && urlData[key] !== 'null' ? urlData[key] : '';\n          break;\n\n        case 'categories':\n          state[key] = urlData[key] && urlData[key] !== 'null' ? urlData[key].split(',') : [];\n          break;\n\n        case 'price':\n          var price = urlData[key] ? urlData[key].split(',') : null;\n\n          if (price && price.length) {\n            state[key] = [Number(price[0]), Number(price[1])]; //state[key][1] = Number(price[1]);\n          }\n\n          break;\n\n        case 'radius':\n          state[key] = Number(urlData[key]);\n          break;\n\n        case 'condition':\n          state[key] = urlData[key] && urlData[key] == 'true' ? true : false;\n          break;\n\n        case 'isNegotiable':\n          state[key] = urlData[key] && urlData[key] == 'true' ? true : false;\n          break;\n\n        case 'location_lat':\n          if (urlData['location_lat']) {\n            state['location'] = {};\n            state['location']['lat'] = Number(urlData[key]);\n          } else {\n            state['location'] = null;\n          }\n\n          break;\n\n        case 'location_lng':\n          if (urlData[key]) {\n            state['location']['lng'] = Number(urlData[key]);\n          }\n\n          break;\n\n        case 'sorting_field':\n          if (urlData[key]) {\n            state['sorting'] = {};\n            state['sorting']['field'] = urlData[key];\n          }\n\n          break;\n\n        case 'sorting_type':\n          if (urlData[key]) {\n            state['sorting']['type'] = urlData[key];\n          }\n\n          break;\n\n        case 'page':\n          if (urlData[key]) {\n            state['page'] = Number(urlData[key]);\n          }\n\n          break;\n\n        case 'limit':\n          if (urlData[key]) {\n            state['limit'] = Number(urlData[key]);\n          }\n\n          break;\n\n        default:\n          state[key] = urlData[key];\n          break;\n      }\n    }\n  }\n\n  return state;\n}","map":{"version":3,"sources":["/Users/bhavikshah/Work/Sellia/sellia-mono/selliafemono/packages/web/helpers/urlHandler.js"],"names":["createBrowserHistory","history","createUrl","urlData","keys","Object","search","forEach","key","substring","length","getUrl","location","window","data","slice","indexOf","split","dataVal","decodeURIComponent","e","setUrl","push","clearUrl","setStateToUrl","state","hasOwnProperty","join","lat","lng","getUrlToState","page","limit","price","Number"],"mappings":"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","sourcesContent":["import { createBrowserHistory } from 'history';\nexport const history = process.browser ? createBrowserHistory() : false;\n\nexport function createUrl(urlData) {\n  const keys = Object.keys(urlData);\n  let search = '?';\n  keys.forEach(key => {\n    if (\n      urlData[key] !== null &&\n      urlData[key] !== '' &&\n      key !== 'page' &&\n      key !== 'limit'\n    ) {\n      search += `${key}=${urlData[key]}&`;\n    }\n  });\n  return search.substring(0, search.length - 1);\n}\n\nexport function getUrl() {\n  const location = process.browser && window.location;\n  const data =\n    process.browser && location.search\n      ? location.search.slice(location.search.indexOf('?') + 1).split('&')\n      : [];\n  const urlData = {};\n  data.forEach(data => {\n    try {\n      data = data.split('=');\n      const dataVal = decodeURIComponent(data[1]);\n      urlData[data[0]] = dataVal;\n    } catch (e) {}\n  });\n  return urlData;\n}\n\nexport function setUrl(urlData) {\n  const search = createUrl(urlData);\n  history.push({\n    ...location,\n    search,\n  });\n}\n\nexport function clearUrl() {\n  history.push({\n    ...location,\n    search: '',\n  });\n}\n\nexport function setStateToUrl(state) {\n  let urlData = getUrl();\n  urlData = { ...urlData, ...state };\n  for (const key in state) {\n    if (state.hasOwnProperty(key)) {\n      switch (key) {\n        case 'text':\n          urlData[key] = state[key] ? state[key] : null;\n          break;\n        case 'categories':\n          urlData[key] =\n            state[key] && state[key].length ? state[key].join() : null;\n          break;\n        case 'price':\n          urlData[key] =\n            state[key] && state[key].length ? state[key].join() : null;\n          break;\n        case 'location':\n          if (state[key] && state[key].lat) {\n            urlData[`${key}_lat`] = state[key].lat;\n          }\n          if (state[key] && state[key].lng) {\n            urlData[`${key}_lng`] = state[key].lng;\n          }\n          break;\n        default:\n          urlData[key] = state[key];\n          break;\n      }\n    }\n  }\n  setUrl(urlData);\n}\n\nexport function getUrlToState() {\n  const urlData = getUrl();\n  const state = { page: 1, limit: 8 };\n  for (const key in urlData) {\n    if (urlData.hasOwnProperty(key)) {\n      switch (key) {\n        case 'text':\n          state[key] =\n            urlData[key] && urlData[key] !== 'null' ? urlData[key] : '';\n          break;\n        case 'categories':\n          state[key] =\n            urlData[key] && urlData[key] !== 'null'\n              ? urlData[key].split(',')\n              : [];\n          break;\n        case 'price':\n          const price = urlData[key] ? urlData[key].split(',') : null;\n          if (price && price.length) {\n            state[key] = [Number(price[0]), Number(price[1])];\n            //state[key][1] = Number(price[1]);\n          }\n          break;\n        case 'radius':\n          state[key] = Number(urlData[key]);\n          break;\n        case 'condition':\n          state[key] = urlData[key] && urlData[key] == 'true' ? true : false;\n          break;\n        case 'isNegotiable':\n          state[key] = urlData[key] && urlData[key] == 'true' ? true : false;\n          break;\n        case 'location_lat':\n          if (urlData['location_lat']) {\n            state['location'] = {};\n            state['location']['lat'] = Number(urlData[key]);\n          } else {\n            state['location'] = null;\n          }\n          break;\n        case 'location_lng':\n          if (urlData[key]) {\n            state['location']['lng'] = Number(urlData[key]);\n          }\n          break;\n        case 'sorting_field':\n          if (urlData[key]) {\n            state['sorting'] = {};\n            state['sorting']['field'] = urlData[key];\n          }\n          break;\n        case 'sorting_type':\n          if (urlData[key]) {\n            state['sorting']['type'] = urlData[key];\n          }\n          break;\n        case 'page':\n          if (urlData[key]) {\n            state['page'] = Number(urlData[key]);\n          }\n          break;\n        case 'limit':\n          if (urlData[key]) {\n            state['limit'] = Number(urlData[key]);\n          }\n          break;\n        default:\n          state[key] = urlData[key];\n\n          break;\n      }\n    }\n  }\n  return state;\n}\n"]},"metadata":{},"sourceType":"module"}