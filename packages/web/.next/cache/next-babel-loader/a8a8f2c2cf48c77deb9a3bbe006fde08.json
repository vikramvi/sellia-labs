{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/bhavikshah/Work/headless-graphql/packages/web/containers/SignUpForm/index.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport Router from 'next/router';\nimport { withFormik } from 'formik';\nimport * as Yup from 'yup';\nimport Icon from 'react-icons-kit';\nimport { locked } from 'react-icons-kit/iconic/locked';\nimport { phone } from 'react-icons-kit/iconic/phone';\nimport Text from 'reusecore/src/elements/Text';\nimport Button from 'reusecore/src/elements/Button';\nimport AuthHeader from '../../components/AuthHeader';\nimport Input from '../../components/Input';\nimport Box from 'reusecore/src/elements/Box';\nimport { FormGroup, ErrorNotification } from '../SignInForm/style';\nimport { REGISTER } from 'core/graphql/Mutations';\nimport { useMutation } from '@apollo/react-hooks';\nimport AuthHelper from '../../helpers/authHelper';\nimport { setFirebaseCookie } from '../../helpers/session';\nimport redirect from '../../helpers/redirect';\nvar SignupEnhancher = withFormik({\n  enableReinitialize: true,\n  mapPropsToValues: function mapPropsToValues(props) {\n    return {\n      email: '',\n      password: ''\n    };\n  },\n  validationSchema: Yup.object().shape({\n    email: Yup.string().email('Invalid email address').required('Email is required!'),\n    password: Yup.string().required('Password is required')\n  })\n});\nvar token = '';\n\nvar SignUpForm = function SignUpForm(_ref) {\n  var values = _ref.values,\n      touched = _ref.touched,\n      errors = _ref.errors,\n      handleChange = _ref.handleChange,\n      handleSubmit = _ref.handleSubmit,\n      handleBlur = _ref.handleBlur,\n      setFieldValue = _ref.setFieldValue;\n\n  var _useState = useState({}),\n      error = _useState[0],\n      setError = _useState[1];\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useMutation = useMutation(REGISTER),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      registerMutation = _useMutation2[0],\n      data = _useMutation2[1].data;\n\n  handleSubmit =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var email, password, provider, _ref3, user, _error;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n\n              if (_Object$keys(errors).length) {\n                _context.next = 17;\n                break;\n              }\n\n              email = values.email, password = values.password;\n              provider = 'password';\n              _context.next = 6;\n              return AuthHelper.signUp(provider, email, password);\n\n            case 6:\n              _ref3 = _context.sent;\n              user = _ref3.user;\n              _error = _ref3.error;\n\n              if (!user) {\n                _context.next = 16;\n                break;\n              }\n\n              _context.next = 12;\n              return user.getIdToken();\n\n            case 12:\n              token = _context.sent;\n              setFieldValue('token', token);\n              _context.next = 17;\n              break;\n\n            case 16:\n              if (_error) {\n                setLoading(false);\n                setError(_error);\n              }\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var res, user;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n\n              if (!values.token) {\n                _context2.next = 6;\n                break;\n              }\n\n              _context2.next = 4;\n              return registerMutation({\n                variables: {\n                  user: {\n                    email: values.email,\n                    token: values.token\n                  }\n                }\n              });\n\n            case 4:\n              res = _context2.sent;\n\n              if (res && res.data && res.data.register) {\n                setLoading(false);\n                user = res.data.register;\n                setFirebaseCookie('id_token', token);\n                setFirebaseCookie('user', _objectSpread({}, user));\n                redirect({}, '/');\n              }\n\n            case 6:\n              _context2.next = 11;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](0);\n              setLoading(false);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 8]]);\n    }))();\n  }, [values.token]);\n  return __jsx(React.Fragment, null, __jsx(AuthHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), __jsx(FormGroup, {\n    className: errors.email ? 'hasErrorMsg' : '',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, __jsx(Input, {\n    elementType: \"input\",\n    elementConfig: {\n      type: 'email',\n      required: 'required'\n    },\n    value: values.email,\n    error: errors.email,\n    touched: touched,\n    label: \"Email\",\n    onBlur: handleBlur('email'),\n    changed: handleChange('email'),\n    highlightColor: \"#f09\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), __jsx(\"span\", {\n    className: \"errorMsg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, errors.email && touched.email && errors.email)), __jsx(FormGroup, {\n    className: errors.password ? 'hasErrorMsg' : '',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, __jsx(Input, {\n    elementType: \"input\",\n    elementConfig: {\n      type: 'password',\n      required: 'required'\n    },\n    value: values.password,\n    error: errors.password,\n    onBlur: handleBlur('password'),\n    touched: touched,\n    label: \"Password\",\n    changed: handleChange('password'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }), __jsx(\"span\", {\n    className: \"errorMsg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, errors.password && touched.password && errors.password)), error.message ? __jsx(Box, {\n    flexBox: true,\n    mt: 20,\n    mb: 15,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, __jsx(ErrorNotification, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, error.message)) : '', __jsx(Button, {\n    onClick: handleSubmit,\n    title: \"Sign up now\",\n    width: 1,\n    isLoading: loading,\n    loaderColor: \"#fff\",\n    icon: __jsx(Icon, {\n      icon: locked,\n      size: 21,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }),\n    mt: 20,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }), __jsx(Box, {\n    flexBox: true,\n    mt: 20,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, __jsx(Text, {\n    content: \" Have an account ?\",\n    color: \"#8C8C8C\",\n    mb: \"0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }), __jsx(Button, {\n    title: \"Sign In\",\n    variant: \"textButton\",\n    ml: \"5px\",\n    onClick: function onClick() {\n      return Router.push('/signin');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  })));\n};\n\nexport default SignupEnhancher(SignUpForm);","map":{"version":3,"sources":["/Users/bhavikshah/Work/headless-graphql/packages/web/containers/SignUpForm/index.js"],"names":["React","useEffect","useState","Router","withFormik","Yup","Icon","locked","phone","Text","Button","AuthHeader","Input","Box","FormGroup","ErrorNotification","REGISTER","useMutation","AuthHelper","setFirebaseCookie","redirect","SignupEnhancher","enableReinitialize","mapPropsToValues","props","email","password","validationSchema","object","shape","string","required","token","SignUpForm","values","touched","errors","handleChange","handleSubmit","handleBlur","setFieldValue","error","setError","loading","setLoading","registerMutation","data","length","provider","signUp","user","getIdToken","variables","res","register","type","message","push"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,SAASC,UAAT,QAA2B,QAA3B;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,SAASC,MAAT,QAAuB,+BAAvB;AACA,SAASC,KAAT,QAAsB,8BAAtB;AAEA,OAAOC,IAAP,MAAiB,6BAAjB;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AACA,OAAOC,UAAP,MAAuB,6BAAvB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,GAAP,MAAgB,4BAAhB;AACA,SAASC,SAAT,EAAoBC,iBAApB,QAA6C,qBAA7C;AACA,SAASC,QAAT,QAAyB,wBAAzB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,SAASC,iBAAT,QAAkC,uBAAlC;AACA,OAAOC,QAAP,MAAqB,wBAArB;AAEA,IAAMC,eAAe,GAAGjB,UAAU,CAAC;AACjCkB,EAAAA,kBAAkB,EAAE,IADa;AAEjCC,EAAAA,gBAAgB,EAAE,0BAAAC,KAAK;AAAA,WAAK;AAAEC,MAAAA,KAAK,EAAE,EAAT;AAAaC,MAAAA,QAAQ,EAAE;AAAvB,KAAL;AAAA,GAFU;AAGjCC,EAAAA,gBAAgB,EAAEtB,GAAG,CAACuB,MAAJ,GAAaC,KAAb,CAAmB;AACnCJ,IAAAA,KAAK,EAAEpB,GAAG,CAACyB,MAAJ,GACJL,KADI,CACE,uBADF,EAEJM,QAFI,CAEK,oBAFL,CAD4B;AAInCL,IAAAA,QAAQ,EAAErB,GAAG,CAACyB,MAAJ,GAAaC,QAAb,CAAsB,sBAAtB;AAJyB,GAAnB;AAHe,CAAD,CAAlC;AAUA,IAAIC,KAAK,GAAG,EAAZ;;AACA,IAAMC,UAAU,GAAG,SAAbA,UAAa,OAQb;AAAA,MAPJC,MAOI,QAPJA,MAOI;AAAA,MANJC,OAMI,QANJA,OAMI;AAAA,MALJC,MAKI,QALJA,MAKI;AAAA,MAJJC,YAII,QAJJA,YAII;AAAA,MAHJC,YAGI,QAHJA,YAGI;AAAA,MAFJC,UAEI,QAFJA,UAEI;AAAA,MADJC,aACI,QADJA,aACI;;AAAA,kBACsBtC,QAAQ,CAAC,EAAD,CAD9B;AAAA,MACGuC,KADH;AAAA,MACUC,QADV;;AAAA,mBAE0BxC,QAAQ,CAAC,KAAD,CAFlC;AAAA,MAEGyC,OAFH;AAAA,MAEYC,UAFZ;;AAAA,qBAGiC3B,WAAW,CAACD,QAAD,CAH5C;AAAA;AAAA,MAGG6B,gBAHH;AAAA,MAGuBC,IAHvB,oBAGuBA,IAHvB;;AAIJR,EAAAA,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AACbM,cAAAA,UAAU,CAAC,IAAD,CAAV;;AADa,kBAER,aAAYR,MAAZ,EAAoBW,MAFZ;AAAA;AAAA;AAAA;;AAGHtB,cAAAA,KAHG,GAGiBS,MAHjB,CAGHT,KAHG,EAGIC,QAHJ,GAGiBQ,MAHjB,CAGIR,QAHJ;AAILsB,cAAAA,QAJK,GAIM,UAJN;AAAA;AAAA,qBAKmB9B,UAAU,CAAC+B,MAAX,CAC5BD,QAD4B,EAE5BvB,KAF4B,EAG5BC,QAH4B,CALnB;;AAAA;AAAA;AAKHwB,cAAAA,IALG,SAKHA,IALG;AAKGT,cAAAA,MALH,SAKGA,KALH;;AAAA,mBAUPS,IAVO;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAWKA,IAAI,CAACC,UAAL,EAXL;;AAAA;AAWTnB,cAAAA,KAXS;AAYTQ,cAAAA,aAAa,CAAC,OAAD,EAAUR,KAAV,CAAb;AAZS;AAAA;;AAAA;AAaJ,kBAAIS,MAAJ,EAAW;AAChBG,gBAAAA,UAAU,CAAC,KAAD,CAAV;AACAF,gBAAAA,QAAQ,CAACD,MAAD,CAAR;AACD;;AAhBU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA;AAAA;AAAA;AAAA,KAAZ;;AAmBAxC,EAAAA,SAAS,CAAC,YAAM;AACd;AAAA;AAAA,6BAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,mBAEOiC,MAAM,CAACF,KAFd;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAGuBa,gBAAgB,CAAC;AACjCO,gBAAAA,SAAS,EAAE;AAAEF,kBAAAA,IAAI,EAAE;AAAEzB,oBAAAA,KAAK,EAAES,MAAM,CAACT,KAAhB;AAAuBO,oBAAAA,KAAK,EAAEE,MAAM,CAACF;AAArC;AAAR;AADsB,eAAD,CAHvC;;AAAA;AAGWqB,cAAAA,GAHX;;AAMK,kBAAIA,GAAG,IAAIA,GAAG,CAACP,IAAX,IAAmBO,GAAG,CAACP,IAAJ,CAASQ,QAAhC,EAA0C;AACxCV,gBAAAA,UAAU,CAAC,KAAD,CAAV;AACMM,gBAAAA,IAFkC,GAE3BG,GAAG,CAACP,IAAJ,CAASQ,QAFkB;AAGxCnC,gBAAAA,iBAAiB,CAAC,UAAD,EAAaa,KAAb,CAAjB;AACAb,gBAAAA,iBAAiB,CAAC,MAAD,oBAAc+B,IAAd,EAAjB;AACA9B,gBAAAA,QAAQ,CAAC,EAAD,EAAK,GAAL,CAAR;AACD;;AAZN;AAAA;AAAA;;AAAA;AAAA;AAAA;AAeGwB,cAAAA,UAAU,CAAC,KAAD,CAAV;;AAfH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;AAkBD,GAnBQ,EAmBN,CAACV,MAAM,CAACF,KAAR,CAnBM,CAAT;AAoBA,SACE,4BAEE,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAKE,MAAC,SAAD;AAAW,IAAA,SAAS,EAAEI,MAAM,CAACX,KAAP,GAAe,aAAf,GAA+B,EAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AACE,IAAA,WAAW,EAAC,OADd;AAEE,IAAA,aAAa,EAAE;AACb8B,MAAAA,IAAI,EAAE,OADO;AAEbxB,MAAAA,QAAQ,EAAE;AAFG,KAFjB;AAME,IAAA,KAAK,EAAEG,MAAM,CAACT,KANhB;AAOE,IAAA,KAAK,EAAEW,MAAM,CAACX,KAPhB;AAQE,IAAA,OAAO,EAAEU,OARX;AASE,IAAA,KAAK,EAAC,OATR;AAUE,IAAA,MAAM,EAAEI,UAAU,CAAC,OAAD,CAVpB;AAWE,IAAA,OAAO,EAAEF,YAAY,CAAC,OAAD,CAXvB;AAYE,IAAA,cAAc,EAAC,MAZjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAeE;AAAM,IAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,MAAM,CAACX,KAAP,IAAgBU,OAAO,CAACV,KAAxB,IAAiCW,MAAM,CAACX,KAD3C,CAfF,CALF,EAyBE,MAAC,SAAD;AAAW,IAAA,SAAS,EAAEW,MAAM,CAACV,QAAP,GAAkB,aAAlB,GAAkC,EAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AACE,IAAA,WAAW,EAAC,OADd;AAEE,IAAA,aAAa,EAAE;AACb6B,MAAAA,IAAI,EAAE,UADO;AAEbxB,MAAAA,QAAQ,EAAE;AAFG,KAFjB;AAME,IAAA,KAAK,EAAEG,MAAM,CAACR,QANhB;AAOE,IAAA,KAAK,EAAEU,MAAM,CAACV,QAPhB;AAQE,IAAA,MAAM,EAAEa,UAAU,CAAC,UAAD,CARpB;AASE,IAAA,OAAO,EAAEJ,OATX;AAUE,IAAA,KAAK,EAAC,UAVR;AAWE,IAAA,OAAO,EAAEE,YAAY,CAAC,UAAD,CAXvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAcE;AAAM,IAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,MAAM,CAACV,QAAP,IAAmBS,OAAO,CAACT,QAA3B,IAAuCU,MAAM,CAACV,QADjD,CAdF,CAzBF,EA4CGe,KAAK,CAACe,OAAN,GACC,MAAC,GAAD;AACE,IAAA,OAAO,MADT;AAEE,IAAA,EAAE,EAAE,EAFN;AAGE,IAAA,EAAE,EAAE,EAHN;AAIE,IAAA,cAAc,EAAC,QAJjB;AAKE,IAAA,UAAU,EAAC,QALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE,MAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoBf,KAAK,CAACe,OAA1B,CAPF,CADD,GAWC,EAvDJ,EA0DE,MAAC,MAAD;AACE,IAAA,OAAO,EAAElB,YADX;AAEE,IAAA,KAAK,EAAC,aAFR;AAGE,IAAA,KAAK,EAAE,CAHT;AAIE,IAAA,SAAS,EAAEK,OAJb;AAKE,IAAA,WAAW,EAAC,MALd;AAME,IAAA,IAAI,EAAE,MAAC,IAAD;AAAM,MAAA,IAAI,EAAEpC,MAAZ;AAAoB,MAAA,IAAI,EAAE,EAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANR;AAOE,IAAA,EAAE,EAAE,EAPN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1DF,EAsFE,MAAC,GAAD;AAAK,IAAA,OAAO,MAAZ;AAAa,IAAA,EAAE,EAAE,EAAjB;AAAqB,IAAA,cAAc,EAAC,QAApC;AAA6C,IAAA,UAAU,EAAC,QAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,OAAO,EAAC,oBAAd;AAAmC,IAAA,KAAK,EAAC,SAAzC;AAAmD,IAAA,EAAE,EAAC,GAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAGE,MAAC,MAAD;AACE,IAAA,KAAK,EAAC,SADR;AAEE,IAAA,OAAO,EAAC,YAFV;AAGE,IAAA,EAAE,EAAC,KAHL;AAIE,IAAA,OAAO,EAAE;AAAA,aAAMJ,MAAM,CAACsD,IAAP,CAAY,SAAZ,CAAN;AAAA,KAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CAtFF,CADF;AAmGD,CAtJD;;AAwJA,eAAepC,eAAe,CAACY,UAAD,CAA9B","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Router from 'next/router';\nimport { withFormik } from 'formik';\nimport * as Yup from 'yup';\nimport Icon from 'react-icons-kit';\nimport { locked } from 'react-icons-kit/iconic/locked';\nimport { phone } from 'react-icons-kit/iconic/phone';\n\nimport Text from 'reusecore/src/elements/Text';\nimport Button from 'reusecore/src/elements/Button';\nimport AuthHeader from '../../components/AuthHeader';\nimport Input from '../../components/Input';\nimport Box from 'reusecore/src/elements/Box';\nimport { FormGroup, ErrorNotification } from '../SignInForm/style';\nimport { REGISTER } from 'core/graphql/Mutations';\nimport { useMutation } from '@apollo/react-hooks';\nimport AuthHelper from '../../helpers/authHelper';\nimport { setFirebaseCookie } from '../../helpers/session';\nimport redirect from '../../helpers/redirect';\n\nconst SignupEnhancher = withFormik({\n  enableReinitialize: true,\n  mapPropsToValues: props => ({ email: '', password: '' }),\n  validationSchema: Yup.object().shape({\n    email: Yup.string()\n      .email('Invalid email address')\n      .required('Email is required!'),\n    password: Yup.string().required('Password is required'),\n  }),\n});\nlet token = '';\nconst SignUpForm = ({\n  values,\n  touched,\n  errors,\n  handleChange,\n  handleSubmit,\n  handleBlur,\n  setFieldValue,\n}) => {\n  const [error, setError] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [registerMutation, { data }] = useMutation(REGISTER);\n  handleSubmit = async () => {\n    setLoading(true);\n    if (!Object.keys(errors).length) {\n      const { email, password } = values;\n      const provider = 'password';\n      const { user, error } = await AuthHelper.signUp(\n        provider,\n        email,\n        password\n      );\n      if (user) {\n        token = await user.getIdToken();\n        setFieldValue('token', token);\n      } else if (error) {\n        setLoading(false);\n        setError(error);\n      }\n    }\n  };\n  useEffect(() => {\n    (async function() {\n      try {\n        if (values.token) {\n          const res = await registerMutation({\n            variables: { user: { email: values.email, token: values.token } },\n          });\n          if (res && res.data && res.data.register) {\n            setLoading(false);\n            const user = res.data.register;\n            setFirebaseCookie('id_token', token);\n            setFirebaseCookie('user', { ...user });\n            redirect({}, '/');\n          }\n        }\n      } catch (error) {\n        setLoading(false);\n      }\n    })();\n  }, [values.token]);\n  return (\n    <>\n      {/* auth page header section */}\n      <AuthHeader />\n\n      {/* signup form */}\n      <FormGroup className={errors.email ? 'hasErrorMsg' : ''}>\n        <Input\n          elementType=\"input\"\n          elementConfig={{\n            type: 'email',\n            required: 'required',\n          }}\n          value={values.email}\n          error={errors.email}\n          touched={touched}\n          label=\"Email\"\n          onBlur={handleBlur('email')}\n          changed={handleChange('email')}\n          highlightColor=\"#f09\"\n        />\n        <span className=\"errorMsg\">\n          {errors.email && touched.email && errors.email}\n        </span>\n      </FormGroup>\n\n      <FormGroup className={errors.password ? 'hasErrorMsg' : ''}>\n        <Input\n          elementType=\"input\"\n          elementConfig={{\n            type: 'password',\n            required: 'required',\n          }}\n          value={values.password}\n          error={errors.password}\n          onBlur={handleBlur('password')}\n          touched={touched}\n          label=\"Password\"\n          changed={handleChange('password')}\n        />\n        <span className=\"errorMsg\">\n          {errors.password && touched.password && errors.password}\n        </span>\n      </FormGroup>\n\n      {error.message ? (\n        <Box\n          flexBox\n          mt={20}\n          mb={15}\n          justifyContent=\"center\"\n          alignItems=\"center\"\n        >\n          <ErrorNotification>{error.message}</ErrorNotification>\n        </Box>\n      ) : (\n        ''\n      )}\n\n      <Button\n        onClick={handleSubmit}\n        title=\"Sign up now\"\n        width={1}\n        isLoading={loading}\n        loaderColor=\"#fff\"\n        icon={<Icon icon={locked} size={21} />}\n        mt={20}\n      />\n\n      {/* <Text\n        fontSize={14}\n        content=\"Or\"\n        color=\"#8C8C8C\"\n        textAlign=\"center\"\n        mt={16}\n      /> */}\n\n      {/* <Button\n        onClick={handleSubmit}\n        title=\"Sign up with\"\n        icon={<Icon icon={phone} size={21} />}\n        width={1}\n        bg=\"#5CABE6\"\n      /> */}\n\n      {/* signin page redirection section */}\n\n      <Box flexBox mt={20} justifyContent=\"center\" alignItems=\"center\">\n        <Text content=\" Have an account ?\" color=\"#8C8C8C\" mb=\"0\" />\n\n        <Button\n          title=\"Sign In\"\n          variant=\"textButton\"\n          ml=\"5px\"\n          onClick={() => Router.push('/signin')}\n        />\n      </Box>\n    </>\n  );\n};\n\nexport default SignupEnhancher(SignUpForm);\n"]},"metadata":{},"sourceType":"module"}