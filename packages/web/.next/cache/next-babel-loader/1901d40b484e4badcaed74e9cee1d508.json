{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport Link from 'next/link';\nimport { CURRENCY } from '../../../Config';\nimport { useQuery } from '@apollo/react-hooks';\nimport { GET_NEAREST_POST } from 'core/graphql/NearestPost.query';\nimport { NEAREST_POST_PAGE, SINGLE_POST_PAGE } from 'core/navigation/constant';\nimport { PostLoader } from '../../../components/Placeholder';\nimport ListGrid from 'reusecore/src/elements/ListGrid';\nimport Box from 'reusecore/src/elements/Box';\nimport Heading from 'reusecore/src/elements/Heading';\nimport Button from 'reusecore/src/elements/Button';\nimport PostCard from '../../../components/PostCard';\nimport NoItemFound from '../../../components/NoItemFound';\nimport OnError from '../../../components/OnError';\n\nvar NearestPost = function NearestPost(_ref) {\n  var location = _ref.location;\n  // QUERY SECTION\n  var QUERY_VARIABLES = {\n    page: 1,\n    LIMIT: 8,\n    location: location\n  };\n\n  var _useQuery = useQuery(GET_NEAREST_POST, {\n    variables: QUERY_VARIABLES\n  }),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error; // Error Rendering.\n\n\n  if (error) return __jsx(OnError, null); // Extract Post Data\n\n  var nearestPost = data && data.nearest ? data.nearest.data : []; // Post Loop Control Area\n\n  var renderNearestPost = function renderNearestPost(item) {\n    var price = item.price,\n        _item$image = item.image,\n        url = _item$image.url,\n        largeUrl = _item$image.largeUrl,\n        title = item.title,\n        slug = item.slug;\n    return __jsx(Link, {\n      href: \"\".concat(SINGLE_POST_PAGE, \"/[slug]\"),\n      as: \"\".concat(SINGLE_POST_PAGE, \"/\").concat(slug)\n    }, __jsx(\"a\", null, __jsx(PostCard, {\n      currency: CURRENCY,\n      title: title,\n      price: price,\n      imageSrc: [url, largeUrl]\n    })));\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Box, {\n    flexBox: true,\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  }, __jsx(Heading, {\n    content: \"Nearest Post\",\n    mb: 0,\n    fontSize: 20,\n    fontWeight: 600\n  }), __jsx(Link, {\n    href: NEAREST_POST_PAGE\n  }, __jsx(\"a\", null, __jsx(Button, {\n    title: \"See all\",\n    color: \"#8c8c8c\",\n    fontWeight: 500,\n    variant: \"textButton\"\n  })))), __jsx(Box, {\n    mt: 20\n  }, !nearestPost ? __jsx(NoItemFound, null) : __jsx(ListGrid, {\n    data: nearestPost,\n    columnWidth: [1, 1 / 2, 1 / 3, 1 / 4],\n    limit: QUERY_VARIABLES.LIMIT,\n    component: renderNearestPost,\n    loading: loading,\n    placeholder: __jsx(PostLoader, null)\n  })));\n};\n\nexport default NearestPost;","map":null,"metadata":{},"sourceType":"module"}