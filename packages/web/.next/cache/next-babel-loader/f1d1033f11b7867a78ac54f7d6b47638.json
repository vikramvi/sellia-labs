{"ast":null,"code":"import cookie from 'js-cookie';\nimport nextCookie from 'next-cookies';\nconst FIREBASE_COOKIE = '__session';\n\nconst getCookieFromBrowser = key => {\n  return cookie.get(key);\n};\n\nconst getCookieFromServer = (ctx, key = 'id_token') => {\n  const cookie = nextCookie(ctx);\n  const token = cookie && cookie[key] ? cookie[key] : false;\n  if (!token) return null;\n  return token;\n};\n\nexport const getCookie = (key, context = {}) => {\n  return process.browser ? getCookieFromBrowser(key) : getCookieFromServer(context, key);\n};\nexport const setCookie = (key, token) => {\n  cookie.set(key, token, {\n    expires: 7\n  });\n};\nexport const removeCookie = key => {\n  cookie.remove(key);\n};\nexport const setFirebaseCookie = (key, token) => {\n  // get cookie from __session using getCookie function\n  // parse the data from cookie\n  // assign the token to the key\n  // call set cookie function with the new data\n  try {\n    const cookieData = getCookie(FIREBASE_COOKIE);\n    const data = cookieData ? JSON.parse(cookieData) : {};\n    data[key] = token;\n    setCookie(FIREBASE_COOKIE, data);\n  } catch (error) {\n    console.log(error, 'setFirebaseCookie');\n  }\n};\nexport const removeFirebaseCookie = key => {\n  // get cookie from __session  using getCookie function\n  // parse the data from cookie\n  // remove the key from the data\n  // call set cookie function with the new data\n  try {\n    const cookieData = getCookie(FIREBASE_COOKIE);\n    const data = cookieData ? JSON.parse(cookieData) : {};\n\n    if (data && data.hasOwnProperty(key)) {\n      delete data[key];\n      setCookie(FIREBASE_COOKIE, data);\n    } else {// console.log(\n      //   `${key} is probably not available inside the cookie removeFirebaseCookie`\n      // );\n    }\n  } catch (error) {\n    console.log(error, 'removeFirebaseCookie');\n  }\n};\nexport const getFirebaseCookie = (key, context = false) => {\n  // get cookie from __session using getCookie function\n  // parse the data from cookie\n  // get the relatedData using the key\n  try {\n    const cookieData = getCookie(FIREBASE_COOKIE, context);\n    const data = cookieData ? JSON.parse(cookieData) : {};\n\n    if (data && data.hasOwnProperty(key)) {\n      return data[key];\n    } else {// console.log(\n      //   `${key} is probably not available inside the cookie getFirebaseCookie`\n      // );\n    }\n  } catch (error) {\n    console.log(error, 'getFirebaseCookie');\n  }\n};","map":null,"metadata":{},"sourceType":"module"}