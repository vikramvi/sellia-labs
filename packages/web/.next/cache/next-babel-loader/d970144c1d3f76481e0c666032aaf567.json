{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { getFirebaseCookie } from '../helpers/session';\nimport Layout from '../containers/Layout';\n/**\n * HOC for all pages except authentication routes like login route.\n *  This is where we have placed our top bar and menus\n */\n\nexport default (function (ComposedComponent) {\n  return (\n    /*#__PURE__*/\n    function (_Component) {\n      _inherits(withLayout, _Component);\n\n      function withLayout() {\n        _classCallCheck(this, withLayout);\n\n        return _possibleConstructorReturn(this, _getPrototypeOf(withLayout).apply(this, arguments));\n      }\n\n      _createClass(withLayout, [{\n        key: \"render\",\n        value: function render() {\n          return __jsx(Layout, {\n            userId: this.props.userId,\n            isLoggedIn: this.props.isLoggedIn,\n            pathname: this.props.pathname\n          }, __jsx(ComposedComponent, this.props));\n        }\n      }], [{\n        key: \"getInitialProps\",\n        value: function () {\n          var _getInitialProps = _asyncToGenerator(\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee(context) {\n            var token, location, user, isLoggedIn;\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.next = 2;\n                    return getFirebaseCookie('id_token', context);\n\n                  case 2:\n                    token = _context.sent;\n                    _context.next = 5;\n                    return getFirebaseCookie('currentLocation', context);\n\n                  case 5:\n                    location = _context.sent;\n                    _context.next = 8;\n                    return getFirebaseCookie('user', context);\n\n                  case 8:\n                    user = _context.sent;\n                    isLoggedIn = token ? true : false;\n                    return _context.abrupt(\"return\", {\n                      isLoggedIn: isLoggedIn,\n                      pathname: context.pathname,\n                      location: location,\n                      userId: user ? user.userId : 'false',\n                      email: user ? user.email : false,\n                      error: user ? user.error : false\n                    });\n\n                  case 11:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          }));\n\n          function getInitialProps(_x) {\n            return _getInitialProps.apply(this, arguments);\n          }\n\n          return getInitialProps;\n        }()\n      }]);\n\n      return withLayout;\n    }(Component)\n  );\n});","map":null,"metadata":{},"sourceType":"module"}