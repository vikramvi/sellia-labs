{"ast":null,"code":"import cookie from 'js-cookie';\nimport nextCookie from 'next-cookies';\nvar FIREBASE_COOKIE = '__session';\n\nvar getCookieFromBrowser = function getCookieFromBrowser(key) {\n  return cookie.get(key);\n};\n\nvar getCookieFromServer = function getCookieFromServer(ctx) {\n  var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'id_token';\n  var cookie = nextCookie(ctx);\n  var token = cookie && cookie[key] ? cookie[key] : false;\n  if (!token) return null;\n  return token;\n};\n\nexport var getCookie = function getCookie(key) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return true ? getCookieFromBrowser(key) : getCookieFromServer(context, key);\n};\nexport var setCookie = function setCookie(key, token) {\n  cookie.set(key, token, {\n    expires: 7\n  });\n};\nexport var removeCookie = function removeCookie(key) {\n  cookie.remove(key);\n};\nexport var setFirebaseCookie = function setFirebaseCookie(key, token) {\n  // get cookie from __session using getCookie function\n  // parse the data from cookie\n  // assign the token to the key\n  // call set cookie function with the new data\n  try {\n    var cookieData = getCookie(FIREBASE_COOKIE);\n    var data = cookieData ? JSON.parse(cookieData) : {};\n    data[key] = token;\n    setCookie(FIREBASE_COOKIE, data);\n  } catch (error) {\n    console.log(error, 'setFirebaseCookie');\n  }\n};\nexport var removeFirebaseCookie = function removeFirebaseCookie(key) {\n  // get cookie from __session  using getCookie function\n  // parse the data from cookie\n  // remove the key from the data\n  // call set cookie function with the new data\n  try {\n    var cookieData = getCookie(FIREBASE_COOKIE);\n    var data = cookieData ? JSON.parse(cookieData) : {};\n\n    if (data && data.hasOwnProperty(key)) {\n      delete data[key];\n      setCookie(FIREBASE_COOKIE, data);\n    } else {// console.log(\n      //   `${key} is probably not available inside the cookie removeFirebaseCookie`\n      // );\n    }\n  } catch (error) {\n    console.log(error, 'removeFirebaseCookie');\n  }\n};\nexport var getFirebaseCookie = function getFirebaseCookie(key) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  // get cookie from __session using getCookie function\n  // parse the data from cookie\n  // get the relatedData using the key\n  try {\n    var cookieData = getCookie(FIREBASE_COOKIE, context);\n    var data = cookieData ? JSON.parse(cookieData) : {};\n\n    if (data && data.hasOwnProperty(key)) {\n      return data[key];\n    } else {// console.log(\n      //   `${key} is probably not available inside the cookie getFirebaseCookie`\n      // );\n    }\n  } catch (error) {\n    console.log(error, 'getFirebaseCookie');\n  }\n};","map":null,"metadata":{},"sourceType":"module"}