{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Error from 'next/error';\nimport { Grid, Row } from 'react-styled-flexboxgrid';\nimport { IoIosPaper, IoIosHeart, IoMdArchive, IoIosCall, IoIosPin, IoIosGlobe } from 'react-icons/io';\nimport { ProfileAvatarLoader } from '../../components/Placeholder';\nimport { useQuery } from '@apollo/react-hooks';\nimport { GET_PROFILE_INFO } from 'core/graphql/Profile.query';\nimport UserInformation from '../../components/UserInfoBox';\nimport TabButtons from '../../components/TabView';\nimport UserListing from './userListing';\nimport FavouriteListing from './userFavourite';\nimport UserDraftPost from './userDraft';\n\nfunction Profile({\n  username,\n  userId\n}) {\n  if (!username) {\n    return __jsx(Error, {\n      statusCode: \"404\"\n    });\n  }\n\n  const {\n    0: tabStates,\n    1: setTabState\n  } = useState({\n    tabState: 'postlist'\n  });\n\n  const handleTabToggle = tabState => {\n    setTabState({\n      tabState: tabState\n    });\n  };\n\n  const QUERY_VARIABLES = {\n    USERNAME: username,\n    limit: 12\n  };\n  const {\n    data,\n    loading,\n    error,\n    fetchMore\n  } = useQuery(GET_PROFILE_INFO, {\n    variables: QUERY_VARIABLES\n  });\n  if (error) return __jsx(\"p\", null, error.message);\n  if (loading) return __jsx(\"div\", {\n    style: {\n      height: '170px',\n      width: '400px'\n    }\n  }, __jsx(ProfileAvatarLoader, null));\n  const favouritePostCount = data && data.author && data.author.favourite ? data.author.favourite.total : 0;\n  const draftPostCount = data && data.author && data.author.draft ? data.author.draft.total : 0;\n  const authorNumber = data && data.author && data.author.mobile && data.author.mobile[0] ? data.author.mobile[0].number : '';\n  const imageUrl = data && data.author && data.author.image ? data.author.image.url : '';\n  const imageLargeUrl = data && data.author && data.author.image ? data.author.image.largeUrl : '';\n  const {\n    id,\n    name,\n    posts,\n    address,\n    website\n  } = data.author;\n  return __jsx(Grid, null, __jsx(\"div\", {\n    style: {\n      paddingTop: 70\n    }\n  }, __jsx(UserInformation, {\n    source: [imageUrl, imageLargeUrl],\n    imgWidth: \"120px\",\n    imgHeight: \"120px\",\n    imgRadius: 85,\n    informationStyle: {\n      marginLeft: 30,\n      width: 'auto'\n    },\n    author: id,\n    userId: userId,\n    authorId: id,\n    title: name,\n    titleStyle: {\n      display: 'block',\n      color: '#333333',\n      fontSize: 24,\n      fontWeight: 'bold',\n      marginBottom: '10px',\n      lineHeight: '22px',\n      textTransform: 'capitalize'\n    },\n    addressIcon: __jsx(IoIosPin, {\n      size: 21\n    }),\n    address: address,\n    websiteIcon: __jsx(IoIosGlobe, {\n      size: 20\n    }),\n    website: website,\n    phoneIcon: __jsx(IoIosCall, {\n      size: 20\n    }),\n    phoneNumber: authorNumber\n  })), __jsx(\"div\", {\n    style: {\n      paddingTop: 60,\n      paddingLeft: 15\n    }\n  }, __jsx(\"div\", {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'flex-start',\n      paddingTop: 10,\n      paddingBottom: 10\n    }\n  }, __jsx(TabButtons, {\n    menuIcon: __jsx(\"span\", {\n      style: {\n        color: tabStates.tabState === 'postlist' ? '#333333' : '#8C8C8C',\n        marginRight: 7\n      }\n    }, __jsx(IoIosPaper, {\n      size: 18\n    })),\n    iconPosition: \"left\",\n    menuText: \"Published\",\n    menuTextColor: tabStates.tabState === 'postlist' ? '#333333' : '#8C8C8C',\n    count: posts && posts.total ? posts.total : 0,\n    onClick: handleTabToggle.bind(this, 'postlist'),\n    style: {\n      marginRight: 50,\n      display: 'inline-flex',\n      marginBottom: 15\n    }\n  }), __jsx(TabButtons, {\n    menuIcon: __jsx(\"span\", {\n      style: {\n        color: tabStates.tabState === 'favorite' ? '#333333' : '#8C8C8C',\n        marginRight: 7\n      }\n    }, __jsx(IoIosHeart, {\n      size: 18\n    })),\n    iconPosition: \"left\",\n    menuText: \"Favourite\",\n    menuTextColor: tabStates.tabState === 'favorite' ? '#333333' : '#8C8C8C',\n    count: favouritePostCount,\n    onClick: handleTabToggle.bind(this, 'favorite'),\n    style: {\n      marginRight: 50,\n      display: 'inline-flex',\n      marginBottom: 15\n    }\n  }), userId && userId === id ? __jsx(TabButtons, {\n    menuIcon: __jsx(\"span\", {\n      style: {\n        color: tabStates.tabState === 'draft' ? '#333333' : '#8C8C8C',\n        marginRight: 7\n      }\n    }, __jsx(IoMdArchive, {\n      size: 18\n    })),\n    iconPosition: \"left\",\n    menuText: \"Drafts\",\n    menuTextColor: tabStates.tabState === 'draft' ? '#333333' : '#8C8C8C',\n    count: draftPostCount,\n    onClick: handleTabToggle.bind(this, 'draft'),\n    style: {\n      marginRight: 50,\n      display: 'inline-flex',\n      marginBottom: 15\n    }\n  }) : null)), __jsx(\"div\", {\n    style: {\n      paddingBottom: 80,\n      paddingTop: 10\n    }\n  }, __jsx(Row, null, tabStates.tabState === 'postlist' ? __jsx(UserListing, null) : null, tabStates.tabState === 'favorite' ? __jsx(FavouriteListing, null) : null, tabStates.tabState === 'draft' && userId === id ? __jsx(UserDraftPost, null) : null)));\n}\n\nexport default Profile;","map":null,"metadata":{},"sourceType":"module"}