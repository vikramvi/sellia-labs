{"ast":null,"code":"import _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport { getThumbUrl } from './generateThumbUrl';\nimport { storage } from './init';\n/**\n * Helper functions to upload multiple image to firebase storage\n * @param {Array} images\n */\n\nexport async function uploadMultipleImages(images) {\n  let allImages = [];\n\n  storage.ref().constructor.prototype.putFiles = function (files) {\n    var ref = this;\n    return _Promise.all(files.map(function (file) {\n      return ref.child(file.name).put(file);\n    }));\n  };\n\n  const uploadedImages = await storage.ref().putFiles(images).then(function (metadatas) {\n    return metadatas;\n  });\n  return _Promise.all(uploadedImages.map(snapshot => {\n    return new _Promise(async (resolve, reject) => {\n      await snapshot.ref.getDownloadURL().then(function (downloadURL) {\n        const thumbUrl = getThumbUrl(downloadURL);\n        allImages.push({\n          url: thumbUrl,\n          largeUrl: downloadURL\n        });\n      });\n      resolve(allImages);\n    });\n  }));\n}","map":null,"metadata":{},"sourceType":"module"}